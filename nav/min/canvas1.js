!function(){for(var t=5,a=125,i=.6,e=["52,168,83","117,95,147","199,108,23","194,62,55","0,172,212","120,120,120"],n=["52,168,83","117,95,147","199,108,23","194,62,55","0,172,212","120,120,120"],o=10,s=.85,r=Math.min(canvas.width,canvas.height)/2.4,h=2.5,d=[],c=[],l=0;l<24;l++)d.push(new g);for(l=0;l<12;l++)c.push(new g(!0));var u=1;function g(i){this.background=i||!1,this.x=p(-canvas.width/2,canvas.width/2),this.y=p(-canvas.height/2,canvas.height/2),this.radius=i?y(t,a)*s:y(t,a),this.filled=this.radius<25?!(v(0,100)>60)&&"full":!(v(0,100)>30)&&"concentric",this.color=i?n[v(0,n.length-1)]:e[v(0,e.length-1)],this.borderColor=i?n[v(0,n.length-1)]:e[v(0,e.length-1)],this.opacity=.05,this.speed=i?p(.3,2.5)/s:p(.3,2.5),this.speedAngle=2*Math.random()*Math.PI,this.speedx=Math.cos(this.speedAngle)*this.speed,this.speedy=Math.sin(this.speedAngle)*this.speed;var o=Math.abs((this.x-(this.speedx<0?-1:1)*(canvas.width/2+this.radius))/this.speedx),r=Math.abs((this.y-(this.speedy<0?-1:1)*(canvas.height/2+this.radius))/this.speedy);this.ttl=Math.min(o,r)}function v(t,a){return Math.floor(Math.random()*(a-t+1)+t)}function p(t,a){return Math.random()*(a-t)+t}function y(t,a){return Math.random()*Math.random()*Math.random()*(a-t)+t}function b(e,n){var s=n.background?n.radius*=u:n.radius/=u;e.beginPath(),e.arc(n.x,n.y,s*u,0,2*Math.PI,!1),e.lineWidth=Math.max(1,o*(t-n.radius)/(t-a)),e.strokeStyle=["rgba(",n.borderColor,",",n.opacity,")"].join(""),"full"==n.filled&&(e.fillStyle=["rgba(",n.borderColor,",",n.background?.8*n.opacity:n.opacity,")"].join(""),e.fill(),e.lineWidth=0,e.strokeStyle=["rgba(",n.borderColor,",",0,")"].join("")),e.stroke(),"concentric"==n.filled&&(e.beginPath(),e.arc(n.x,n.y,s/2,0,2*Math.PI,!1),e.lineWidth=Math.max(1,o*(t-n.radius)/(t-a)),e.strokeStyle=["rgba(",n.color,",",n.opacity,")"].join(""),e.stroke()),n.x+=n.speedx,n.y+=n.speedy,n.opacity<(n.background?i:1)&&(n.opacity+=.01),n.ttl--}function M(){var t=document.getElementById("canvas").getContext("2d"),a=document.getElementById("canvasbg").getContext("2d");function i(t,a){for(var i=0;i<a.length;i++){var e=a[i];e.ttl,canvas.width,e.radius,canvas.height,e.radius,e.ttl<-20&&a[i].init(a[i].background),b(t,e)}for(i=0;i<a.length-1;i++)for(var n=i+1;n<a.length;n++){var o=a[i].x-a[n].x,d=a[i].y-a[n].y,c=Math.pow(Math.pow(o,2)+Math.pow(d,2),.5);if(!(c<=a[i].radius+a[n].radius)&&c<r){var l=(a[i].x<a[n].x?1:-1)*Math.abs(a[i].radius*o/c),u=(a[i].y<a[n].y?1:-1)*Math.abs(a[i].radius*d/c),g=(a[i].x<a[n].x?-1:1)*Math.abs(a[n].radius*o/c),v=(a[i].y<a[n].y?-1:1)*Math.abs(a[n].radius*d/c);t.beginPath(),t.moveTo(a[i].x+l,a[i].y+u),t.lineTo(a[n].x+g,a[n].y+v),a[i].color,a[n].color,t.strokeStyle=["rgba(",a[i].borderColor,",",Math.min(a[i].opacity,a[n].opacity)*((r-c)/r),")"].join(""),t.lineWidth=(a[i].background?h*s:h)*((r-c)/r),t.stroke()}}}t.globalCompositeOperation="destination-over",t.clearRect(0,0,canvas.width,canvas.height),a.globalCompositeOperation="destination-over",a.clearRect(0,0,canvas.width,canvas.height),t.save(),t.translate(canvas.width/2,canvas.height/2),a.save(),a.translate(canvas.width/2,canvas.height/2);var e=Date.now();i(t,d),i(a,c),deltaT=Date.now()-e,t.restore(),a.restore(),window.requestAnimationFrame(M)}g.prototype.init=function(){g.call(this,this.background)},window.requestAnimationFrame(M)}();
